<template name="rating">
  <view class='com-rating'>
    <block wx:for='{{[1,2,3,4,5]}}' wx:key='*this'>
      <view class='rating-off' bindtap="onClick" data-index="{{index}}">
        <view class='rating-on' 
          style='width:{{rating >= (max/5)*item ? 1 : rating < (max/5)*(item-1) ? 0 : (rating*10)%(max/5*10)/(max/5*10)}}em'
        ><image src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAa5JREFUOBGVVMtKw0AUPTcJxoW4EHQrVHyhC0FwZ8WC+C1urVVpGwVtFfsQ6cIfcNc/EHzgzoKgS2kLUhAEwY2IVqQZ78TadFKb1oGZ3Me5Z05mbgJ0Gon1OSTDy51gRicA7NoWYwZ4nvphyS+JnfAsIG4cDGlLsDJn7fBau8RPMaSa+hDbv9Zfz/aKkpEZ1Gq3SpFuhBBLXSqxutNKlF4bwqcYgy3ViCWliHANog2QWUJs76k5R9hdXQEoCIFRLuSJ/maAj/3GpGXOF0GioEHHORPM8+SD7ZpE8vdBiBkWEALpFxqih0UYPUFmr8js/wY9Q6dFxNJ37hklwsOwxQUTBboiIzwxSQjR7L3Eu9cfz1ZgGgusrNSZiB4BfeGXRCWS3kbqkd/bt4OdTQhXsNLKhq4iB+EsU67ZzhLT3kwrEaEF5C1ifwL5vN4cV4lkMwoMNgHeQTiARvLzeG3EBUyUC7LnGkMlqtbVEL64SY/Rq4/AOtxEPLsDwwzw3WQ4XnWqa6pyz2/EnuRbO2HwNrYyD43tpBHdf+E1gkTsCOLD4gYeV/KKk8uZiu/neLDf1lRo8dl6jY4AAAAASUVORK5CYII=" mode='widthFix' style='width:0.5em' /></view>
        <view class='rating-off'><image src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAAAXNSR0IArs4c6QAAAtlJREFUSA2tVU2IUlEUnvcUQ1KIQLCFmzKCyIFQx8yhkQhpEyRkm5ipVbsWLaKCgje1iVq0bjvraFokgjBkkIiiG4N+GKekGYmibKFN/tv3iffxHJ/Mk+bC5dxz7ne+c869951nmplizM3NRZ1O5weXy1WsVCofjbrKRoH9fl/q9XoPJEm6SkndqK/hIKgiBtLtfD6/QjnUDcUxFERRFBnZLyP7+2SlpE67oShGQH6//4rP53urxVKnXWubtN41k1gsZkLWiqhCQ3SP1XBfY9Nd7hqkXC4v4rK3CoXCay0D7iYF+yb2l7R2vbVZGIPB4MF2u+1Gxm5ZlgcS66PI9hTI5gVOK4F72O1217xe73Vg1jFLwJeA2bBYLOuZTKZKvARAH/I3JqsqEaiRmyD6lM1mt2DTHbgXJ4jVxAByYx5hgpDkPjDDIJjLUPZ8kJf8stlsdoI9CuXJXkbB63tMXvLLOIrvVqt1Acd0BhvP/vft0588CLBAXvKrrSESieyvVquvsPnNZrMtpVKpzrSVhcNhc71eX4HfIXBcAEedHOoTTiaTfxwOx3lcmL1Wq61OWxH8JAR4QX/yiAAjQagkEomm3W6P4uga8Xj8Bm1GB14ZE9xHf/Jo/dRKhJHHBPAanuUlYTMoF4F7qXfMY0GGhB58H88Nkg9gqD6LxQk9n4lB4PROz2GSDZUXsTert6+2lR2bs2gXdBoZoVDI3mq1bqJlPE2n0zXtpslkKiKQbpCxSnCBLlTxFw3xpyDB07TBfrfRaHwG0eFms/mFOu0Ck8vlfmG9TX9hE3IsCC7dg83BUaFpWvFh3cKT3qAdwecR/Bru6zR12rlPHAlh061G/RhFVLSX2yBjq/kKpzuQb9AaFHy57wVGyEAgcLzT6SjQ2TEeQbrg8wOJcK0OvTuJAHgWiFXMc3CY+ACGgS8jMQ982GQvYvK/MxIE+uhA+ccwT45ajWn0o/9O9D86rlkWLnM+9AAAAABJRU5ErkJggg==' mode='widthFix' style='width:0.5em' /></view>
      </view>
    </block>
  </view>
</template>